# C++11 Lambdaè¡¨è¾¾å¼

### **ä»€ä¹ˆæ˜¯ Lambda è¡¨è¾¾å¼ï¼Ÿ**

**Lambda è¡¨è¾¾å¼** å°±åƒæ˜¯ä¸€ç§â€œä¸´æ—¶å†™ä¸‹çš„å°å‡½æ•°â€ï¼Œå®ƒä¸éœ€è¦åå­—ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¤–é¢ä¸“é—¨å®šä¹‰ã€‚
 ä½ å¯ä»¥ç›´æ¥åœ¨ä»£ç é‡Œå†™å®ƒï¼Œç„¶åç«‹åˆ»ç”¨å®ƒï¼Œæ–¹ä¾¿åˆå¿«é€Ÿï¼

æƒ³è±¡ä¸€ä¸‹ï¼Œæ™®é€šå‡½æ•°å°±åƒæ˜¯ä¸€ä¸ªæ­£å¼çš„èœè°±ï¼Œä½ å¿…é¡»æå‰å†™ä¸‹æ¥ï¼Œåˆ«äººæ‰èƒ½ç”¨å®ƒåšèœã€‚
 è€Œ Lambda è¡¨è¾¾å¼å°±åƒä½ è„‘å­é‡Œçªç„¶å†’å‡ºæ¥çš„ä¸€ä¸ªå°ç‚¹å­â€”â€”ä½ é©¬ä¸Šå¯ä»¥è¯•è¯•ï¼Œä¸ç”¨ä¸“é—¨å†™â€œèœè°±â€ï¼

------

### **Lambda è¡¨è¾¾å¼é•¿ä»€ä¹ˆæ ·ï¼Ÿ**

å®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```cpp
[] (å‚æ•°åˆ—è¡¨) -> è¿”å›å€¼ç±»å‹ {
    å‡½æ•°ä½“;
}
```

åˆ«è¢«è¿™äº›ä¸œè¥¿å“åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ­¥æ­¥ç®€åŒ–å®ƒï¼š

- `[]`ï¼šè¿™æ˜¯â€œæ•è·åˆ—è¡¨â€ï¼Œå¯ä»¥å…ˆä¸ç”¨ç®¡å®ƒï¼ˆæˆ–è€…å†™ç©ºçš„ï¼‰ã€‚
- `(å‚æ•°åˆ—è¡¨)`ï¼šå’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œå†™ä½ éœ€è¦çš„å‚æ•°ã€‚
- `-> è¿”å›å€¼ç±»å‹`ï¼šå¯ä»¥çœç•¥ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­è¿”å›å€¼ç±»å‹ã€‚
- `{ å‡½æ•°ä½“ }`ï¼šå‡½æ•°çš„å…·ä½“å†…å®¹ï¼Œå°±åƒæ™®é€šå‡½æ•°çš„ `{}`ã€‚

------

### **ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šåŠ æ³•**

æ™®é€šçš„åŠ æ³•å‡½æ•°æ˜¯è¿™æ ·çš„ï¼š

```cpp
int add(int a, int b) {
    return a + b;
}
```

ç°åœ¨ç”¨ Lambda è¡¨è¾¾å¼æ”¹å†™å®ƒï¼š

```cpp
auto add = [](int a, int b) {
    return a + b;
};
```

> **`add` æ˜¯å˜é‡çš„åå­—ï¼Œä¸æ˜¯ Lambda çš„åå­—**ï¼š
>
> - è¿™é‡Œçš„ `add` æ˜¯ä¸€ä¸ªå˜é‡åï¼Œç”¨æ¥å­˜å‚¨è¿™ä¸ª Lambda è¡¨è¾¾å¼ï¼ˆå®ƒçš„ç±»å‹æ˜¯ä¸€ä¸ªå¤æ‚çš„åŒ¿åç±»å‹ï¼‰ã€‚
> - **Lambda è¡¨è¾¾å¼æœ¬èº«è¿˜æ˜¯åŒ¿åçš„**ï¼Œä½ åªæ˜¯ç»™å®ƒèµ‹å€¼ç»™äº† `add`ï¼Œç›¸å½“äºè®© `add` ä»£è¡¨è¿™ä¸ª Lambdaã€‚

æ˜¯ä¸æ˜¯çœ‹èµ·æ¥ç®€çŸ­å¾ˆå¤šï¼Ÿä½ å¯ä»¥è¿™æ ·ç”¨ï¼š

```cpp
#include <iostream>

int main() {
    auto add = [](int a, int b) {
        return a + b;
    };

    std::cout << "3 + 5 = " << add(3, 5) << std::endl;  // è¾“å‡ºï¼š3 + 5 = 8
    return 0;
}
```

------

### **Lambda è¡¨è¾¾å¼å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«**

1. **ä¸éœ€è¦åå­—**ï¼š
   - æ™®é€šå‡½æ•°éœ€è¦ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚ `add`ã€‚
   - Lambda è¡¨è¾¾å¼æ²¡æœ‰åå­—ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªä¸´æ—¶çš„å°å·¥å…·ã€‚
2. **å®šä¹‰åœ¨å“ªé‡Œå°±å¯ä»¥ç”¨åœ¨å“ªé‡Œ**ï¼š
   - æ™®é€šå‡½æ•°éœ€è¦å†™åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œç„¶åè°ƒç”¨å®ƒã€‚
   - Lambda è¡¨è¾¾å¼å¯ä»¥ç›´æ¥å†™åœ¨ç”¨çš„åœ°æ–¹ï¼Œä¸éœ€è¦åˆ°å¤„æ‰¾ã€‚

------

### **å†ä¸¾å‡ ä¸ªä¾‹å­**

#### **1. æ‰“å°æ•°å­—**

```cpp
#include <iostream>

int main() {
    auto print = [](int x) {
        std::cout << "Number: " << x << std::endl;
    };

    print(10);  // è¾“å‡ºï¼šNumber: 10
    print(42);  // è¾“å‡ºï¼šNumber: 42

    return 0;
}
```

#### **2. åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯å¶æ•°**

```cpp
#include <iostream>

int main() {
    auto is_even = [](int x) {
        return x % 2 == 0;
    };

    std::cout << "4 is even? " << (is_even(4) ? "Yes" : "No") << std::endl;  // è¾“å‡ºï¼šYes
    std::cout << "7 is even? " << (is_even(7) ? "Yes" : "No") << std::endl;  // è¾“å‡ºï¼šNo

    return 0;
}
```

#### **3. ä½¿ç”¨ Lambda è¡¨è¾¾å¼æ’åºæ•°ç»„**

```cpp
#include <iostream>
#include <vector>
#include <algorithm>

int main() {
    std::vector<int> numbers = {5, 2, 9, 1, 7};

    // ä½¿ç”¨ Lambda è¡¨è¾¾å¼å¯¹æ•°ç»„æ’åº
    std::sort(numbers.begin(), numbers.end(), [](int a, int b) {
        return a < b;  // æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºæ’åº
    });

    for (int num : numbers) {
        std::cout << num << " ";  // è¾“å‡ºï¼š1 2 5 7 9
    }
    return 0;
}
```

------

### **æ€»ç»“**

1. Lambda è¡¨è¾¾å¼æ˜¯ä¸€ä¸ª**å¯ä»¥éšæ—¶å†™ã€éšæ—¶ç”¨çš„å°å‡½æ•°**ã€‚
2. å®ƒçš„åŸºæœ¬æ ¼å¼æ˜¯ï¼š`[] (å‚æ•°åˆ—è¡¨) { å‡½æ•°ä½“ };`ã€‚
3. ç”¨å®ƒå¯ä»¥å¿«é€Ÿå®Œæˆä¸€äº›ç®€å•çš„é€»è¾‘ï¼Œçœå»å®šä¹‰å‡½æ•°çš„éº»çƒ¦ã€‚
4. å®ƒæ˜¯ C++11 çš„æ–°ç‰¹æ€§ï¼Œéå¸¸é€‚åˆå†™çŸ­å°çš„ä»£ç ã€‚

å®å®ï¼Œç°åœ¨çŸ¥é“ Lambda è¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªå¯ä»¥â€œéšæ‰‹å†™çš„å°å‡½æ•°â€äº†å—ï¼Ÿä¸ç”¨æ€•å®ƒï¼Œçœ‹å‡ æ¬¡ä»£ç å°±ä¼šå•¦ï¼âœ¨ğŸ˜Š